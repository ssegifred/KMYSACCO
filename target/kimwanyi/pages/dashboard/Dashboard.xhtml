<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core"
>
<h:head>
    <f:facet name="first">
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
        <meta name="apple-mobile-web-app-capable" content="yes"/>

        <h:outputStylesheet name="primeflex/3.3.1/primeflex.css" library="webjars"/>
    <link rel="stylesheet" type="text/css" href="../../css/App.css" />
        <link rel="stylesheet" type="text/css" href="../../css/dash.css" />
    </f:facet>
    <style>
        .dialog-form {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .withdraw-content {
            background-color: #beb08f;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
    </style>
</h:head>
<h:body>
    <div class="container">
    <div id="dashboard">

            <h:form>
                <p:growl id="messages"/>
                <p:menubar>
                <p:submenu label="Dashboard" icon="pi pi-bars">
                        <p:menuitem value="Home" icon="pi pi-home" />
                    <p:menuitem value="Get Loan" icon="pi-credit-card"/>
                        <p:menuitem value="Reports" icon="pi-database" />
                    </p:submenu>
                <p:divider layout="vertical" />
                    <p:submenu label="Settings" icon="pi pi-fw pi-cog" >
                        <p:menuitem value="Edit" icon="pi pi-user" />
                    </p:submenu>
                    <p:divider layout="vertical" />
                    <p:submenu label="Transact" icon="pi-briefcase" >
                        <p:menuitem value="Withdrawal" icon="pi-database" onclick="showLoanForm(event)"/>
                        <p:menuitem value="Deposit" icon="pi-dollar" onclick="showDepositForm(event)"/>
                    </p:submenu>
                    <p:divider layout="vertical" />

                    <f:facet name="options">
                        <p:button value="Logout" icon="pi pi-fw pi-sign-out" styleClass="ui-button-info" outcome="#{navigation.landing}"/>
                    </f:facet>
                </p:menubar>

            <div class="card">
                <div class="card1">
                    <div class="icon">
                        <i class="pi pi-wallet" aria-hidden="true"></i>
                    </div>
                    <h3>Account Balance</h3>
                    <p>$3,000</p>
                </div>
            </div>

</h:form>
    <div id="footer">
        <h4 class =" text-center">About Us</h4>
                <p class="m-0"> We are a community-based financial institution that aims to provide financial services to our members and promote a culture of saving and responsible borrowing.</p>
                <h:outputText value="Â© 2023 KMY SACCO. All rights reserved." />
    </div>
        <div id="WithdrawForm" class="dialog-form" style="display: none;">
            <div class="withdraw-content">
                <form>
                    <div class="flex justify-content-center">
                        <p:graphicImage name="kimwany1.png" library="images" alt="image missing" width="100" height="100" />
                    </div>
                    <h3>KMY SACCO Withdraw Form</h3>
                    <p>Amount:</p>
                    <p:inputText id="amountInput" />

                    <p>Reason:</p>
                    <p:inputTextarea id="reasonInput" /><br/><br/>
                    <div class="flex justify-content-center gap-2">
                    <p:commandButton value="Apply" onclick="submitLoanForm()" />
                    <p:commandButton value="Close" onclick="hideLoanForm()" />
                    </div>
                </form>
            </div>
        </div>
        <div id="DepositForm" class="dialog-form" style="display: none;">
            <div class="withdraw-content">
                <form>
                    <div class="flex justify-content-center">
                        <p:graphicImage name="kimwany1.png" library="images" alt="image missing" width="100" height="100" />
                    </div>
                    <h3>KMY SACCO Deposit Form</h3>
                    <p>Amount:</p>
                    <p:inputText id="deposit" />

                    <p>Reason:</p>
                    <p:inputTextarea id="re-deposit" /><br/><br/>
                    <div class="flex justify-content-center p-5">
                        <p:commandButton value="Deposit" onclick="submitDepositForm()"/>
                        <p:commandButton value="Close" onclick="hideDepositForm()" />
                    </div>
                </form>
            </div>
        </div>
    </div>
    </div>
    <script>
        function showLoanForm() {
            document.getElementById("WithdrawForm").style.display = "flex";
        }

        function hideLoanForm() {
            document.getElementById("WithdrawForm").style.display = "none";
        }

        function submitLoanForm(event) {
            event.preventDefault(); // Prevent default form submission

            // Add logic to submit the loan form data

            hideLoanForm();
        }
        function showDepositForm() {
            document.getElementById("DepositForm").style.display = "flex";
        }
        function hideDepositForm() {
            document.getElementById("DepositForm").style.display = "none";
        }

        function submitDepositForm(event) {
            event.preventDefault();

            // Add logic to submit the loan form data

            hideLoanForm();
        }
    </script>

</h:body>
</html>